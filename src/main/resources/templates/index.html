<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Main Page</title>
    <link rel="stylesheet" href="css/minireset.css" />
    <link rel="stylesheet" href="css/common.css" />
    <link rel="stylesheet" href="css/iconfont.css" />
    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="css/swiper.min.css" />
  </head>
  <body>
    <div id="app">
      <div th:replace="common :: top_bar" class="topbar"/>
      <div class="header w">
        <a href="#" class="header-logo"></a>
        <div class="header-nav">
          <ul>
            <li><a href="#">Technology</a></li>
            <li><a href="#">History</a></li>
            <li><a href="#">Fiction</a></li>
            <li><a href="#">Business</a></li>
            <li><a href="#">Literature</a></li>
            <li><a href="#">Art</a></li>
            <li><a href="#">Management</a></li>
          </ul>
        </div>
        <form class="header-search">
          <input type="text" placeholder=" " />
          <button class="iconfont icon-search"></button>
        </form>
      </div>
      <div th:replace="common :: banner" class="banner w clearfix"/>
      <div class="books-list ">
        <div class="w">
          <div class="list">
            <div class="list-header">
              <div class="title">Book List</div>
              <form class="price-search" th:action="@{/getMainBookList}">
                <span>Price: </span>
                <span> $</span>
                <input type="number" name="price1">
                <span> - $</span>
                <input type="number" name="price2">
                <button>Search</button>
              </form>
            </div>
            <div class="list-content">
              <div href="" class="list-item" th:each="book : ${pageInfo.list}" th:object="${book}" style="float:left">
                <img th:src="@{|/book/*{bookImg}|}" alt="">
                <p th:text="|*{bookName}|" style="font-weight:bold; color: #2a2a2a">bookname</p>
                <p th:text="|author: *{author}|">author</p>
                <p th:text="|price: $*{price}|">price</p>
                <p th:text="|sales: *{saleCount}|">sales</p>
                <p th:text="|stock: *{bookCount}|">stock</p>
                <a th:href="@{/addCart/{id}(id=${book.id})}" class="btn" type="button">
                  Add to my Cart</button></a>
              </div>
            </div>
            <div class="list-footer">
              <ul class="pagination">
                <li>
                  <a th:href="@{${'getMainBookList'}(pageNum=${1},pageSize=${pageSize})}">Front Page</a>
                </li>
                <li>
                  <a th:if="${not isFirstPage}" th:href="@{${'getMainBookList'}(pageNum=${pageNum-1},pageSize=${pageSize})}" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                  </a>
                  <a th:if="${isFirstPage}" href="javascript:void(0);" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                  </a>
                </li>
                <li th:each="pageNo : ${#numbers.sequence(1, totalPages)}">
                  <a th:if="${pageNum eq pageNo}" href="javascript:void(0);">
                    <span th:text="${pageNo}"></span>
                  </a>
                  <a th:if="${not (pageNum eq pageNo)}" th:href="@{${'getMainBookList'}(pageNum=${pageNo},pageSize=${pageSize})}">
                    <span th:text="${pageNo}"></span>
                  </a>
                </li>
                <li>
                  <a th:if="${not isLastPage}" th:href="@{${'getMainBookList'}(pageNum=${pageNum+1},pageSize=${pageSize})}" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                  </a>
                  <a th:if="${isLastPage}" href="javascript:void(0);" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                  </a>
                </li>
                <li>
                  <a th:href="@{${'getMainBookList'}(pageNum=${pageInfo.pages},pageSize=${pageSize})}">Last Page</a>
                </li>
              </ul>

              <span th:text="'  &nbsp;Total Pages: ' + ${pageInfo.pages} + ', '">total pages</span>
              <span th:text="'  Total Items: ' + ${pageInfo.total}">total items</span>
            </div>
          </div>
        </div>
      </div>
      <div class="cate w">
        <div class="list">
          <a href="" class="list-item">
            <i class="iconfont icon-java"></i>
            <span>java</span>
          </a>
          <a href="" class="list-item"
            ><i class="iconfont icon-h5"></i>h5</a
          >
          <a href="" class="list-item">
            <i class="iconfont icon-p"></i>python
          </a>
          <a href="" class="list-item"
            ><i class="iconfont icon-tianchongxing-"></i>pm</a
          >
          <a href="" class="list-item"
            ><i class="iconfont icon-php_elephant"></i>php</a
          >
          <a href="" class="list-item"
            ><i class="iconfont icon-go"></i>go</a
          >
        </div>
        <a href="" class="img">
          <img src="/uploads/cate4.jpg" alt="" />
        </a>
        <a href="" class="img">
          <img src="/uploads/cate5.jpg" alt="" />
        </a>
        <a href="" class="img">
          <img src="/uploads/cate6.jpg" alt="" />
        </a>
      </div>
      <div class="books">
        <div class="w">
          <div class="seckill">
            <div class="seckill-header">
              <div class="title">
                Special Offers
              </div>
            </div>
            <div class="seckill-content">
                  <a href="" class="tip"> 
                     <h5>Before End</h5>
                     <i class="iconfont icon-shandian"></i>
                     <div class="downcount">
                      <span class="time" id="hour">00</span>
                      <span class="token">:</span>
                      <span class="time" id="minute">00</span>
                       <span class="token">:</span>
                       <span class="time" id="second">00</span>
                     </div>
                  </a>

                <a th:each="book : ${session.discountBookList}" th:object="${book}" style="float:left"
                   th:href="@{/addCart/{id}(id=${book.id})}" class="books-sec" >
                  <img th:src="@{|/book/*{bookImg}|}" alt="">
                  <p th:text="|*{bookName}|" style="text-align: center">bookname</p>
                  <div>
                    <span class="cur-price" th:text="|$*{price}|">$10</span><br>
                    <span class="pre-price" th:text="|$*{price*1.2}|">$20</span>
                  </div>
                  <button style="width: auto">Add to my Cart</button>
                </a>
              <!--</div>-->
            </div>
          </div>
        </div>
      </div>
      <div th:replace="common::bottom_main"/>
     

    </div>
    <script src="/script/swiper.min.js"></script>
    <script>
      var swiper = new Swiper('.swiper-container', {
        autoplay: true,
        pagination: {
          el: '.swiper-pagination',
          dynamicBullets: true
        },
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev'
        }
      })
    </script>
  </body>
</html>
